<td-layout-nav> 
    <td-layout-card-over cardTitle="Lista de usuários"  cardWidth="75"  >
        <md-card>      
            <md-card-title layout>
                <md-input-container class="text-sm" flex>
                    <input #textSearch (keyup)="0" mdInput placeholder="Procurar usuários"/>
                    <span mdPrefix><md-icon class="icon">search</md-icon></span>
                </md-input-container>
            </md-card-title> 
            <md-list class="pull-top">
                <md-list-item>
                    <md-icon md-list-avatar>account_circle</md-icon>
                    <h3 md-line>Usuários</h3> 
                </md-list-item>   
                <ng-template let-item="$implicit" let-i="index" let-last="last" ngFor [ngForOf]="users?.content">
                    <a md-list-item>
                        <md-icon md-list-avatar>person</md-icon>
                        <h3 md-line> {{item.name}} {{item.lastName}} </h3>
                        <p md-line> {{item.email}} </p>
                        <span flex></span>
                        <button md-button mdTooltip="Detalhar" [routerLink]="['/user-detail', item.id]" ><md-icon md-list-avatar>details</md-icon></button>
                        <button md-button mdTooltip="Editar" *ngIf="(userCurrent?.permission == 'ROLE_ADMIN') && ( item.id != 1 )" [routerLink]="['/user-edit', item.id]"><md-icon md-list-avatar>edit</md-icon></button>
                        <button md-button mdTooltip="Status" *ngIf="(userCurrent?.permission == 'ROLE_ADMIN') && ( item.id != 1 )" (click)="openConfirm($event, item)" ><md-icon [ngClass]="(item?.active)?'activateButton':'deactivateButton'">power_settings_new</md-icon></button>
                    </a>
                    <md-divider *ngIf="!last" md-inset></md-divider>        
              </ng-template>
          </md-list>

          <md-divider></md-divider>
          <td-paging-bar #pagingBar [firstLast]="true" 
                         [pageSizeAll]="false" [pageSizes]="[5,10,20]"
                pageLinkCount="5" [initialPage]="1" [pageSize]="5" [total]="total" (change)="change($event)">
                    {{pagingBar.range}} 
                <span hide-xs>
                    of {{pagingBar.total}}
                </span>
          </td-paging-bar>




          <a md-fab td-sidenav-content *ngIf="userCurrent?.permission == 'ROLE_ADMIN'" color="accent" [routerLink]="['/user-new']" class="buttonAdd" > 
              <md-icon mdTooltip="Novo" >add</md-icon>
          </a>
     </md-card> 
  </td-layout-card-over>
</td-layout-nav>



